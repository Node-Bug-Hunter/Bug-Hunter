function compress(r,n){var o,e,f,t,a,i,u,c,h=Int32Array||Array,v=new h(4194304),d=new h(1000002),s=new h(524288),C=new h(327683),p=[];for(o=65;o<91;o++)p.push(o);for(o=97;o<123;o++)p.push(o);for(o=48;o<58;o++)p.push(o);p.push(45),p.push(95);var A,l,m,g,y=[15==n?"Ā":"A"],M=0,w=[],S=0,x=[],b=0,j=new h(1048576);function I(){var r;for(r=0;r<4194304;r++)v[r]=-1;for(A=o,d[0]=65536,d[96]=65537,d[97]=65538,f=97,r=1;r<96;r++)d[r]=31+r;for(r=0;r<327683;r++)C[r]=-1;for(r=0;r<98;r++)C[d[r]]=r;for(r=0;r<524288;r++)s[r]=-1;for(u=0,c=0,t=0,a=0,r=0;r<1048576;r++)j[r]=-1}function k(n,o,e,f){if(o>25e4)return 0;var t=r.charCodeAt(e)+(r.charCodeAt(e+1)<<16),a=r.charCodeAt(e+2)+(r.charCodeAt(e+3)<<16),i=(o+99*n+919*r.charCodeAt(e)+719*r.charCodeAt(e+1)+809*r.charCodeAt(e+2)+601*r.charCodeAt(e+3)&262143)<<2;if(-1!==j[i])return j[i]===n&&j[i+1]===t&&j[i+2]===a?j[i+3]:0;j[i]=n,j[i+1]=t,j[i+2]=a,j[i+3]=f}function q(){var n;for(M=0,n=0;n<4;n++)M=139*M+r.charCodeAt(o+n)&4194303}function z(r,n){for(var o=r+1099*n&262143,e=0;;){if(g=s[2*o]===r&&s[2*o+1]===n)return o;if(-1===s[2*o])return s[2*o]=r,s[2*o+1]=n,t++,o;a++,o=o+ ++e&262143}}function B(r){f++,d[f]=r,D(f)}function D(r){C[d[r]]=r}function E(r){for(;r>=4;)J(4+(3&r)),r=(r>>2)-1;J(r)}function F(r){E(r<64?r:f-r+64)}function G(r){var n,o;r<64?(c=c+331804471&1073741823,n=Math.max(0,Math.min(r-1,(r>>1)+(c>>28))),o=d[r]):(n=(u=u+13&31)+32,r!==f&&f++,o=d[r],r=f),d[r]=d[n],d[n]=o,D(r),D(n)}var H,J=15==n?function(r){S<4?(w[S]=r,S++):(x[b]=256+w[0]+8*w[1]+64*w[2]+512*w[3]+4096*r,S=0,++b>1023&&(y.push(String.fromCharCode.apply(null,x)),b=0))}:function(r){0===S?(w[0]=r,S=1):(x[b]=p[8*r+w[0]],S=0,++b>1023&&(y.push(String.fromCharCode.apply(null,x)),b=0))};for(o=0,I(),q();o<r.length;){if(-1!==(l=v[M])&&r[l]===r[o]&&r[l+1]===r[o+1]&&r[l+2]===r[o+2]&&r[l+3]===r[o+3]){m=4;do{for(;r[o+m]===r[l+m]&&A+5e6-o>m;)m++;(H=k(l,m,o+m,o))&&(l=H,m+=4)}while(H);var K=z(l,m);if(g)F(i=C[K+65539]),G(i);else{var L=z(l,0);g?(F(i=C[L+65539]),G(i),E(m-4),B(K+65539)):(F(i=C[65536]),E(l-A),E(m-4),G(i),B(L+65539),B(K+65539))}for(o+=m-3,q(),e=0;e<3;e++)-1===v[M]&&(v[M]=o),o++,M=139*M+r.charCodeAt(o+3)-7985*r.charCodeAt(o-1)&4194303}else{-1===l&&(v[M]=o);var N=r.charCodeAt(o);-1!==(i=C[N])?(F(i),G(i)):(F(i=C[65538]),E(N),G(i),B(N)),o++,M=139*M+r.charCodeAt(o+3)-7985*r.charCodeAt(o-1)&4194303}(A+5e6<=o||f>=1e6||a>1e7||t>23e4)&&(F(C[65537]),I())}for(;S;)J(7);return y.push(String.fromCharCode.apply(String,x.slice(0,b))),y.join("")}function decompress(r,n){var o,e;n=n||1/0;var f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",t=[],a=[];for(o=0;o<64;o++)t[f.charCodeAt(o)]=7&o,a[f.charCodeAt(o)]=o>>3&7;var i,u=1,c=[],h=0,v=0,d=0;function s(r){c[h]=r,h++}if("A"===r[0])i=function(){for(var n=Math.min(r.length,u+5e4);u<n;u++){var o=r.charCodeAt(u),e=t[o],f=a[o];if("number"!=typeof e)return!1;e>3?f>3?(v+=e+(f<<2)<<d,d+=4):(s(v+(e+(f<<2)<<d)),v=0,d=0):(s(v+(e<<d)),f>3?(v=f,d=2):(s(f),v=0,d=0))}};else{if("Ā"!==r[0])return!1;i=function(){for(var n=Math.min(r.length,u+2e4);u<n;u++){var o=r.charCodeAt(u)-256;if(!(o>=0&&o<32768))return!1;for(var e=0;e<5;e++){var f=7&o;f>3?(v+=f<<d,d+=2):(s(v+(f<<d)),v=0,d=0),o>>=3}}}}var C,p,A,l,m=[],g=[];function y(){var r;for(m[0]=65536,m[96]=65537,m[97]=65538,C=97,r=1;r<96;r++)m[r]=31+r;A=0,l=0,p=0,b=0}function M(){var r;for(r=0;r<b;r+=1024)D.push(String.fromCharCode.apply(String,B.slice(r,Math.min(r+1024,b))))}function w(r){C++,m[C]=r}function S(r){B[b]=r,b++}function x(r,n){w(65539+p),g[p]=r,g[p+1]=n,p+=2}y();var b,j,I,k,q,z,B=[],D=[];if(!1===i())return!1;for(o=0;o<h;o++){if(o+5>h){for(e=o;e<h;e++)c[e-o]=c[e];if(h=e-o,o=0,!1===i())return!1}var E=c[o];E>=64&&(E=C-E+64);var F=m[E];if("number"!=typeof F)return!1;if(q=void 0,z=void 0,(k=E)<64?(l=l+331804471&1073741823,q=Math.max(0,Math.min(k-1,(k>>1)+(l>>28))),z=m[k],m[k]=m[q]):(q=32+(A=A+13&31),k!==C&&C++,z=m[k],m[C]=m[q]),m[q]=z,F>65538){if(j=g[F-65538],I=g[F-65539],0===j&&(o++,x(I,j=c[o]+4)),!(b+j<5000010))return!1;for(e=0;e<j;e++)S(B[I+e])}else if(65538===F){if(o++,!(c[o]<65536))return!1;w(c[o]),S(c[o])}else if(65536===F){if(o++,!((I=c[o])<b))return!1;if(x(I,0),o++,j=c[o]+4,!(b+j<5000010))return!1;for(e=0;e<j;e++)S(B[I+e]);x(I,j)}else if(65537===F){if((n-=b)<0)return!1;M(),y()}else{if(!(F<65536))return!1;S(F)}}return!(n-b<0)&&(M(),D.join(""))}export{compress,decompress};